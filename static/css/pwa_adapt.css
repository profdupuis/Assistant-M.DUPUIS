/* âœ… Adaptations PWA iOS avec +20px de sÃ©curitÃ© visuelle */

body.pwa-installed .mobile-action-bar {
  padding-bottom: calc(20px + env(safe-area-inset-bottom, 0px));
  height: calc(100px + env(safe-area-inset-bottom, 0px));
}

body.pwa-installed #conversation {
  padding-bottom: calc(85px + env(safe-area-inset-bottom, 0px));
}

body.pwa-installed .mobile-loader {
  bottom: calc(110px + env(safe-area-inset-bottom, 0px));
}

body.pwa-installed #python-editor {
  bottom: calc(150px + env(safe-area-inset-bottom, 20px)) !important;
  z-index: 3000;
}


/* ðŸ“± PWA installÃ©e : Ã©diteur plus haut, au-dessus du clavier */
body.pwa-installed #python-editor {
  bottom: auto !important;
  top: 18vh !important; /* tu peux tester 20vh, 25vh, etc. */
}

body.pwa-installed #userInputMobile {
  margin-bottom: calc(35px + env(safe-area-inset-bottom, 0px));
}

body.pwa-installed .scroll-to-bottom-btn {
  bottom: calc(8rem + env(safe-area-inset-bottom, 0px));
}


body.pwa-installed .mobile-header {
  position: fixed;
  top: env(safe-area-inset-top, 0);
  width: 100%;
  z-index: 2000;
  background-color: white;
  transition: top 0.2s ease;
}



.pwa-loader {
  position: fixed;
  inset: 0;
  background-color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

.pwa-loader.hidden {
  display: none;
}

.pwa-spinner {
  width: 48px;
  height: 48px;
  border: 4px solid #ccc;
  border-top: 4px solid #222;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}
